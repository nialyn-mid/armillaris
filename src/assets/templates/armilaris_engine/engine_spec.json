{
    "name": "Armillaris Default Engine",
    "description": "Standard Keyword & Meta Activation Engine",
    "idlist-var": "activated_ids",
    "chathighlights-var": "chat_highlights",
    "debugnodes-var": "debug_nodes",
    "debugports-var": "debug_ports",
    "categories": {
        "Input": {
            "color": "#0078d4"
        },
        "Math": {
            "color": "#107c10"
        },
        "Logic": {
            "color": "#e0115f"
        },
        "List": {
            "color": "#8e44ad"
        },
        "Sort": {
            "color": "#f1c40f"
        },
        "Utility": {
            "color": "#607d8b"
        },
        "Output": {
            "color": "#d83b01"
        }
    },
    "nodes": [
        {
            "type": "InputSource",
            "label": "Input Entry List",
            "category": "Input",
            "description": "The full list of entries from Data.",
            "inputs": [],
            "outputs": [
                {
                    "id": "entries",
                    "label": "Entries",
                    "type": "Entry List"
                }
            ],
            "properties": []
        },
        {
            "type": "InputSource",
            "label": "Input Chat",
            "category": "Input",
            "description": "All chat fields provided by the system.",
            "inputs": [],
            "outputs": [
                {
                    "id": "last_message",
                    "label": "Last Message",
                    "type": "String"
                },
                {
                    "id": "last_messages",
                    "label": "Message History",
                    "type": "Message List"
                },
                {
                    "id": "first_message_date",
                    "label": "First Message Date",
                    "type": "Date"
                },
                {
                    "id": "last_bot_message_date",
                    "label": "Last Bot Message Date",
                    "type": "Date"
                },
                {
                    "id": "message_count",
                    "label": "Message Count",
                    "type": "Number"
                },
                {
                    "id": "contextLength",
                    "label": "Context Length",
                    "type": "Number"
                },
                {
                    "id": "user_name",
                    "label": "User Name",
                    "type": "String"
                },
                {
                    "id": "persona_name",
                    "label": "Persona Name",
                    "type": "String"
                }
            ],
            "properties": []
        },
        {
            "type": "InputSource",
            "label": "Character Input",
            "category": "Input",
            "description": "All character fields provided by the system.",
            "inputs": [],
            "outputs": [
                {
                    "id": "name",
                    "label": "Name",
                    "type": "String"
                },
                {
                    "id": "chat_name",
                    "label": "Chat Name",
                    "type": "String"
                },
                {
                    "id": "example_dialogs",
                    "label": "Example Dialogs",
                    "type": "String"
                },
                {
                    "id": "personality",
                    "label": "Personality",
                    "type": "String"
                },
                {
                    "id": "scenario",
                    "label": "Scenario",
                    "type": "String"
                },
                {
                    "id": "custom_prompt_complete",
                    "label": "Custom Prompt",
                    "type": "String"
                }
            ],
            "properties": []
        },
        {
            "type": "InputSource",
            "label": "Custom Attributes Input",
            "category": "Input",
            "description": "Create a custom attribute list from names and values.",
            "inputs": {
                "$for": "node.custom_attributes",
                "$item": [
                    {
                        "id": "names_{{_value}}",
                        "label": "Name {{_value}}",
                        "type": "String"
                    },
                    {
                        "id": "values_{{_value}}",
                        "label": "Value {{_value}}",
                        "type": "Value"
                    }
                ]
            },
            "outputs": [
                {
                    "id": "attributes",
                    "label": "Attributes",
                    "type": "Attribute List"
                }
            ],
            "properties": {
                "$for": "node.expandable_properties",
                "$item": {
                    "name": "attribute_{{_value}}",
                    "label": "Attribute {{_value}}",
                    "type": "Property Block",
                    "content": [
                        {
                            "name": "attribute_name",
                            "label": "Attribute Name",
                            "type": "String",
                            "default": "Attribute"
                        },
                        {
                            "name": "attribute_type",
                            "label": "Attribute Type",
                            "type": "select",
                            "options": [
                                {
                                    "value": "String",
                                    "label": "String"
                                },
                                {
                                    "value": "Number",
                                    "label": "Number"
                                },
                                {
                                    "value": "Boolean",
                                    "label": "Boolean"
                                },
                                {
                                    "value": "Date",
                                    "label": "Date"
                                },
                                {
                                    "value": "String List",
                                    "label": "String List"
                                }
                            ],
                            "default": "String"
                        },
                        {
                            "name": "attribute_value",
                            "label": "Attribute Value",
                            "type": "Value"
                        }
                    ]
                }
            }
        },
        {
            "type": "InputSource",
            "label": "Custom Value List Input",
            "category": "Input",
            "description": "Create a custom value list by defining the type and values.",
            "inputs": [
                {
                    "id": "type",
                    "label": "Type",
                    "type": "String"
                }
            ],
            "outputs": [
                {
                    "id": "values",
                    "label": "Values",
                    "type": "Value List"
                }
            ],
            "properties": {
                "value_type": {
                    "label": "Value Type",
                    "type": "select",
                    "options": [
                        "String",
                        "Number",
                        "Boolean",
                        "Date"
                    ],
                    "default": "String"
                },
                "$for": "node.expandable_properties",
                "$item": {
                    "name": "value_{{_value}}",
                    "label": "Value {{_value}}",
                    "type": "Value"
                }
            }
        },
        {
            "type": "Filter",
            "label": "Entry Filter",
            "category": "Filter",
            "description": "Filter entries based on attribute values.",
            "inputs": [
                {
                    "id": "input_entries",
                    "label": "Input Entry List",
                    "type": "Entry List"
                },
                {
                    "id": "attribute_name_input",
                    "label": "Attribute Name",
                    "type": "String"
                },
                {
                    "id": "values_input",
                    "label": "Compare Values",
                    "type": "Value List"
                }
            ],
            "outputs": [
                {
                    "id": "filtered_entries",
                    "label": "Filtered Entry List",
                    "type": "Entry List"
                }
            ],
            "properties": {
                "combine": {
                    "label": "Combine",
                    "type": "select",
                    "options": [
                        {
                            "value": "or",
                            "label": "Any"
                        },
                        {
                            "value": "and",
                            "label": "All"
                        }
                    ],
                    "default": "or"
                },
                "attribute_name": {
                    "label": "Attribute Name",
                    "type": "String",
                    "default": "Meta"
                },
                "operator": {
                    "label": "Operator Is",
                    "type": "select",
                    "options": [
                        {
                            "value": "contains",
                            "label": "Contains"
                        },
                        {
                            "value": "not contains",
                            "label": "Does Not Contain"
                        },
                        {
                            "value": "==",
                            "label": "Is"
                        },
                        {
                            "value": "!=",
                            "label": "Is Not"
                        },
                        {
                            "value": ">=",
                            "label": "Greater Than Or Equal To"
                        },
                        {
                            "value": "<=",
                            "label": "Less Than Or Equal To"
                        },
                        {
                            "value": ">",
                            "label": "Greater Than"
                        },
                        {
                            "value": "<",
                            "label": "Less Than"
                        }
                    ],
                    "default": "=="
                },
                "value_type": {
                    "label": "Value Type",
                    "type": "select",
                    "options": [
                        {
                            "value": "String",
                            "label": "String"
                        },
                        {
                            "value": "Number",
                            "label": "Number"
                        },
                        {
                            "value": "Boolean",
                            "label": "Boolean"
                        },
                        {
                            "value": "Date",
                            "label": "Date"
                        }
                    ],
                    "default": "String"
                },
                "$for": "node.values_list",
                "$item": {
                    "name": "value_{{_value}}",
                    "label": "Value {{_value}}",
                    "type": "Value"
                }
            }
        },
        {
            "type": "Filter",
            "label": "Keyword Filter",
            "category": "Filter",
            "description": "Filter entries based on their associated keywords' presence in the input messages.",
            "inputs": [
                {
                    "id": "entries",
                    "label": "Entries",
                    "type": "Entry List"
                },
                {
                    "id": "messages",
                    "label": "Messages",
                    "type": "Message List"
                },
                {
                    "id": "case_sensitive",
                    "label": "Case Sensitive",
                    "type": "Boolean"
                },
                {
                    "id": "wordbreak_sensitive",
                    "label": "Match Inside Word",
                    "type": "Boolean"
                },
                {
                    "id": "match_limit",
                    "label": "Match Limit",
                    "type": "Number"
                },
                {
                    "id": "message_range_start",
                    "label": "Message Range Start",
                    "type": "Number"
                },
                {
                    "id": "message_range_end",
                    "label": "Message Range End",
                    "type": "Number"
                }
            ],
            "outputs": [
                {
                    "id": "entries",
                    "label": "Entries",
                    "type": "Entry List"
                }
            ],
            "properties": [
                {
                    "name": "case_sensitive",
                    "label": "Case Sensitive",
                    "type": "Boolean",
                    "default": false
                },
                {
                    "name": "wordbreak_sensitive",
                    "label": "Match Inside Word",
                    "type": "Boolean",
                    "default": false
                },
                {
                    "name": "match_limit",
                    "label": "Match Limit Per Message",
                    "type": "Number",
                    "default": 0
                },
                {
                    "name": "message_user_type",
                    "label": "Sender Type",
                    "type": "select",
                    "options": [
                        {
                            "value": "user",
                            "label": "User"
                        },
                        {
                            "value": "bot",
                            "label": "Bot"
                        },
                        {
                            "value": "all",
                            "label": "All"
                        }
                    ],
                    "default": "all"
                }
            ]
        },
        {
            "type": "Filter",
            "label": "Message Filter",
            "category": "Filter",
            "description": "Filter messages based on conditions about message content.",
            "inputs": [
                {
                    "id": "messages",
                    "label": "Messages",
                    "type": "Message List"
                },
                {
                    "id": "conditions",
                    "label": "Conditions",
                    "type": "String List"
                }
            ],
            "outputs": [
                {
                    "id": "matched_messages",
                    "label": "Matched Messages",
                    "type": "Message List"
                },
                {
                    "id": "matched_conditions",
                    "label": "Matched Conditions",
                    "type": "String List"
                },
                {
                    "id": "unmatched_messages",
                    "label": "Unmatched Messages",
                    "type": "Message List"
                },
                {
                    "id": "unmatched_conditions",
                    "label": "Unmatched Conditions",
                    "type": "String List"
                }
            ],
            "properties": [
                {
                    "name": "case_sensitive",
                    "label": "Case Sensitive",
                    "type": "Boolean",
                    "default": false
                },
                {
                    "name": "wordbreak_sensitive",
                    "label": "Match Inside Word",
                    "type": "Boolean",
                    "default": false
                },
                {
                    "name": "message_user_type",
                    "label": "Sender Type",
                    "type": "select",
                    "options": [
                        {
                            "value": "user",
                            "label": "User"
                        },
                        {
                            "value": "bot",
                            "label": "Bot"
                        },
                        {
                            "value": "all",
                            "label": "All"
                        }
                    ],
                    "default": "all"
                },
                {
                    "name": "is_regex",
                    "label": "Use As RegEx",
                    "type": "Boolean",
                    "default": false
                }
            ]
        },
        {
            "type": "Filter",
            "label": "List Filter",
            "category": "List",
            "description": "Filter a list based on numeric patterns.",
            "inputs": [
                {
                    "id": "list_input",
                    "label": "Input List",
                    "type": "List"
                }
            ],
            "outputs": [
                {
                    "id": "list_output",
                    "label": "Output List",
                    "type": "List",
                    "typeTransformation": {
                        "type": "de-list",
                        "property_trigger": "return_single"
                    }
                }
            ],
            "properties": [
                {
                    "name": "trim_start",
                    "label": "Trim Start",
                    "type": "Number",
                    "default": 0
                },
                {
                    "name": "trim_end",
                    "label": "Trim End",
                    "type": "Number",
                    "default": 0
                },
                {
                    "name": "frequency",
                    "label": "Include Every Nth",
                    "type": "Number",
                    "default": 1
                },
                {
                    "name": "return_single",
                    "label": "Output First as Single",
                    "type": "Boolean",
                    "default": false
                }
            ],
            "typeConstraints": [
                {
                    "id": "list_type",
                    "subtype_of": "List",
                    "ports": [
                        "list_input",
                        "list_output"
                    ]
                }
            ]
        },
        {
            "type": "AttributeExtractor",
            "label": "Attribute",
            "category": "Utility",
            "description": "Extract attributes from an entry.",
            "inputs": [
                {
                    "id": "entry",
                    "label": "Entry",
                    "type": "Entry"
                }
            ],
            "outputs": [
                {
                    "$for": "entry.meta.attributes",
                    "$item": {
                        "id": "{{_value}}",
                        "label": "{{_value}}",
                        "type": "Attribute"
                    }
                }
            ],
            "properties": []
        },
        {
            "type": "AttributeExtractor",
            "label": "Attribute List",
            "category": "Utility",
            "description": "Extract attributes from a list of entries.",
            "inputs": [
                {
                    "id": "entries",
                    "label": "Entries",
                    "type": "Entry List"
                }
            ],
            "outputs": [
                {
                    "$for": "entries.meta.attributes",
                    "$item": {
                        "id": "{{_value}}_list",
                        "label": "{{_value}}",
                        "type": "Attribute List"
                    }
                }
            ],
            "properties": []
        },
        {
            "type": "DataUtility",
            "label": "Join List",
            "category": "List",
            "description": "Join multiple lists of the same type into a single list.",
            "inputs": {
                "$for": "node.expandable_inputs",
                "$item": {
                    "id": "list_{{_value}}",
                    "label": "List {{_value}}",
                    "type": "List"
                }
            },
            "outputs": [
                {
                    "id": "joined_list",
                    "label": "Joined List",
                    "type": "List"
                }
            ],
            "properties": [
                {
                    "name": "deduplicate",
                    "label": "Deduplicate",
                    "type": "select",
                    "options": [
                        {
                            "value": "off",
                            "label": "Off"
                        },
                        {
                            "value": "first",
                            "label": "Keep first"
                        },
                        {
                            "value": "last",
                            "label": "Keep last"
                        }
                    ],
                    "default": "first"
                }
            ],
            "typeConstraints": [
                {
                    "id": "list_type",
                    "subtype_of": "List",
                    "ports": [
                        "joined_list",
                        "list_{{_value}}"
                    ],
                    "expansions": [
                        {
                            "pattern": "list_{{_value}}",
                            "for": "expandable_inputs"
                        }
                    ]
                }
            ]
        },
        {
            "type": "DataUtility",
            "label": "Value Map",
            "category": "Utility",
            "description": "Map values from one list to another.",
            "inputs": {
                "values": {
                    "label": "Values",
                    "type": "Value List"
                },
                "$for": "node.mappings",
                "$item": {
                    "id": "mapping_{{_value}}",
                    "label": "Mapping {{_value}}",
                    "type": "Value List"
                }
            },
            "outputs": [
                {
                    "id": "outputs",
                    "label": "Outputs",
                    "type": "Value List"
                }
            ],
            "properties": {
                "$for": "node.mappings",
                "$item": {
                    "name": "mapping_{{_value}}",
                    "label": "Mapping {{_value}}",
                    "type": "Property Block",
                    "content": {
                        "$for": "inputs",
                        "$item": {
                            "name": "input_{{_value}}",
                            "label": "Input {{_value}}",
                            "type": "Value"
                        },
                        "output_{{_value}}": {
                            "label": "Output {{_value}}",
                            "type": "Value"
                        }
                    }
                }
            }
        },
        {
            "type": "DataUtility",
            "label": "Sort Messages",
            "category": "Sort",
            "description": "Sort messages based on a chosen method.",
            "inputs": [
                {
                    "id": "messages",
                    "label": "Messages",
                    "type": "Message List"
                }
            ],
            "outputs": [
                {
                    "id": "sorted_messages",
                    "label": "Sorted Messages",
                    "type": "Message List"
                },
                {
                    "id": "inverse_sorted_messages",
                    "label": "Inverse Sorted Messages",
                    "type": "Message List"
                }
            ],
            "properties": [
                {
                    "name": "sort_by",
                    "label": "Sort By",
                    "type": "select",
                    "options": [
                        {
                            "value": "date",
                            "label": "Date (Recent First)"
                        },
                        {
                            "value": "random",
                            "label": "Random"
                        }
                    ],
                    "default": "date"
                }
            ]
        },
        {
            "type": "InputSource",
            "label": "Custom Entry Input",
            "category": "Input",
            "description": "Create an entry from attributes and properties.",
            "inputs": [
                {
                    "id": "attributes",
                    "label": "Attributes",
                    "type": "Attribute List"
                },
                {
                    "id": "keywords",
                    "label": "Keywords",
                    "type": "String List"
                }
            ],
            "outputs": [
                {
                    "id": "entry",
                    "label": "Entry",
                    "type": "Entry"
                }
            ],
            "properties": [
                {
                    "name": "id",
                    "label": "ID",
                    "type": "String",
                    "placeholder": "Auto-generated UUID if empty"
                },
                {
                    "name": "name",
                    "label": "Name",
                    "type": "String"
                },
                {
                    "name": "keywords_header",
                    "label": "Keywords",
                    "type": "Label"
                },
                {
                    "$for": "node.keyword_items",
                    "$item": {
                        "name": "kw_{{_value}}",
                        "label": "Keyword {{_value}}",
                        "type": "String"
                    }
                },
                {
                    "name": "attributes_header",
                    "label": "Custom Attributes",
                    "type": "Label"
                },
                {
                    "$for": "node.custom_attributes",
                    "$item": {
                        "name": "attr_{{_value}}",
                        "label": "Attribute {{_value}}",
                        "type": "Property Block",
                        "content": [
                            {
                                "name": "name",
                                "label": "Name",
                                "type": "String",
                                "default": "Meta"
                            },
                            {
                                "name": "type",
                                "label": "Type",
                                "type": "select",
                                "options": [
                                    "String",
                                    "Number",
                                    "Boolean",
                                    "Date",
                                    "String List"
                                ],
                                "default": "String"
                            },
                            {
                                "name": "value",
                                "label": "Value",
                                "type": "Value"
                            }
                        ]
                    }
                }
            ],
            "typeConstraints": [
                {
                    "id": "custom_keywords",
                    "ports": [
                        "keywords"
                    ],
                    "expansions": [
                        {
                            "pattern": "kw_{{_value}}",
                            "for": "keyword_items"
                        }
                    ]
                },
                {
                    "id": "custom_attributes",
                    "ports": [
                        "attributes"
                    ],
                    "expansions": [
                        {
                            "pattern": "attr_{{_value}}",
                            "for": "custom_attributes"
                        }
                    ]
                }
            ]
        },
        {
            "type": "DataUtility",
            "label": "Sort Entries By Attribute",
            "category": "Sort",
            "description": "Sort entries based on an attribute.",
            "inputs": [
                {
                    "id": "entries",
                    "label": "Entries",
                    "type": "Entry List"
                },
                {
                    "id": "attribute_name",
                    "label": "Attribute Name",
                    "type": "String"
                }
            ],
            "outputs": [
                {
                    "id": "sorted_entries",
                    "label": "Sorted Entries",
                    "type": "Entry List"
                },
                {
                    "id": "inverse_sorted_entries",
                    "label": "Inverse Sorted Entries",
                    "type": "Entry List"
                }
            ],
            "properties": [
                {
                    "name": "attribute_name",
                    "label": "Attribute Name",
                    "type": "String"
                }
            ]
        },
        {
            "type": "Adjacency",
            "label": "Graph Adjacency",
            "category": "Utility",
            "description": "Output the entries which are a distance from the input entries.",
            "inputs": [
                {
                    "id": "entries",
                    "label": "Entries",
                    "type": "Entry List"
                },
                {
                    "id": "distance",
                    "label": "Distance",
                    "type": "Number"
                }
            ],
            "outputs": [
                {
                    "id": "adjacency",
                    "label": "Adjacency",
                    "type": "Entry List"
                }
            ],
            "properties": [
                {
                    "name": "distance",
                    "label": "Distance",
                    "type": "Number",
                    "default": 1
                }
            ]
        },
        {
            "type": "StringRegex",
            "label": "String Regex",
            "category": "Utility",
            "description": "Extract matches and positions from a string using a regular expression.",
            "inputs": [
                {
                    "id": "input",
                    "label": "Input",
                    "type": "String"
                },
                {
                    "id": "regex",
                    "label": "Regex",
                    "type": "String"
                }
            ],
            "outputs": [
                {
                    "id": "matches",
                    "label": "Matches",
                    "type": "String List"
                },
                {
                    "id": "start_positions",
                    "label": "Start Positions",
                    "type": "Value List"
                },
                {
                    "id": "end_positions",
                    "label": "End Positions",
                    "type": "Value List"
                }
            ],
            "properties": [
                {
                    "name": "regex",
                    "label": "Regex",
                    "type": "String"
                },
                {
                    "name": "case_sensitive",
                    "label": "Case Sensitive",
                    "type": "Boolean",
                    "default": false
                },
                {
                    "name": "global",
                    "label": "Global",
                    "type": "Boolean",
                    "default": true
                }
            ]
        },
        {
            "type": "InputSource",
            "label": "Custom Value Input",
            "category": "Input",
            "description": "Provide a single value of a selected type.",
            "outputs": [
                {
                    "id": "value",
                    "label": "Value",
                    "type": "Value",
                    "typeTransformation": {
                        "type": "replace_from_property",
                        "property_id": "value_type"
                    }
                }
            ],
            "properties": [
                {
                    "name": "value_type",
                    "label": "Type",
                    "type": "select",
                    "options": [
                        "String",
                        "Number",
                        "Boolean",
                        "Date"
                    ],
                    "default": "String"
                },
                {
                    "name": "value",
                    "label": "Value",
                    "type": "Value"
                }
            ]
        },
        {
            "type": "Operation",
            "label": "Math Operation",
            "category": "Math",
            "description": "Perform basic math operations on a number list.",
            "inputs": [
                {
                    "id": "values",
                    "label": "Values",
                    "type": "Number List"
                }
            ],
            "outputs": [
                {
                    "id": "result",
                    "label": "Result",
                    "type": "Number"
                }
            ],
            "properties": [
                {
                    "name": "operation",
                    "label": "Operation",
                    "type": "select",
                    "options": [
                        "Sum",
                        "Average",
                        "Min",
                        "Max",
                        "Product"
                    ],
                    "default": "Sum"
                }
            ]
        },
        {
            "type": "Logic",
            "label": "Condition",
            "category": "Logic",
            "description": "Compare two values.",
            "inputs": [
                {
                    "id": "input_a",
                    "label": "Input A",
                    "type": "Value"
                },
                {
                    "id": "input_b",
                    "label": "Input B",
                    "type": "Value"
                }
            ],
            "outputs": [
                {
                    "id": "result",
                    "label": "Result",
                    "type": "Boolean"
                }
            ],
            "typeConstraints": [
                {
                    "id": "compare_type",
                    "subtype_of": "Value",
                    "ports": [
                        "input_a",
                        "input_b"
                    ]
                }
            ],
            "properties": [
                {
                    "name": "operator",
                    "label": "Operator",
                    "type": "select",
                    "options": [
                        "==",
                        "!=",
                        ">",
                        "<",
                        ">=",
                        "<=",
                        "contains"
                    ],
                    "default": "=="
                }
            ]
        },
        {
            "type": "Logic",
            "label": "Switch",
            "category": "Logic",
            "description": "Pass through a value if condition is true, else returns empty.",
            "inputs": [
                {
                    "id": "condition",
                    "label": "Condition",
                    "type": "Boolean"
                },
                {
                    "id": "input_value",
                    "label": "Input Value",
                    "type": "Value"
                }
            ],
            "outputs": [
                {
                    "id": "output",
                    "label": "Output",
                    "type": "Value"
                }
            ],
            "typeConstraints": [
                {
                    "id": "switch_flow",
                    "subtype_of": "Value",
                    "ports": [
                        "input_value",
                        "output"
                    ]
                }
            ],
            "properties": []
        },
        {
            "type": "StringUtility",
            "label": "Concatenate List",
            "category": "List",
            "description": "Concatenate a list of values into a string.",
            "inputs": [
                {
                    "id": "values",
                    "label": "Values",
                    "type": "Value List"
                }
            ],
            "outputs": [
                {
                    "id": "result",
                    "label": "Result",
                    "type": "String"
                }
            ],
            "properties": [
                {
                    "name": "separator",
                    "label": "Separator",
                    "type": "String",
                    "default": ", "
                }
            ]
        },
        {
            "type": "DataUtility",
            "label": "Singles to List",
            "category": "List",
            "description": "Combine multiple single values into a list.",
            "inputs": {
                "$for": "node.items",
                "$item": {
                    "id": "item_{{_value}}",
                    "label": "Item {{_value}}",
                    "type": "Value"
                }
            },
            "outputs": [
                {
                    "id": "list",
                    "label": "List",
                    "type": "Value List",
                    "typeTransformation": {
                        "type": "en-list"
                    }
                }
            ],
            "typeConstraints": [
                {
                    "id": "singles_flow",
                    "subtype_of": "Value",
                    "ports": [
                        "item_{{_value}}",
                        "list"
                    ],
                    "expansions": [
                        {
                            "pattern": "item_{{_value}}",
                            "for": "items"
                        }
                    ]
                }
            ],
            "properties": []
        },
        {
            "type": "DataUtility",
            "label": "List to Singles",
            "category": "List",
            "description": "Split a list into multiple single values.",
            "inputs": [
                {
                    "id": "list",
                    "label": "List",
                    "type": "Value List"
                }
            ],
            "outputs": {
                "$for": "node.items",
                "$item": {
                    "id": "item_{{_value}}",
                    "label": "Item {{_value}}",
                    "type": "Value",
                    "typeTransformation": {
                        "type": "de-list"
                    }
                }
            },
            "typeConstraints": [
                {
                    "id": "singles_flow",
                    "subtype_of": "Value",
                    "ports": [
                        "item_{{_value}}",
                        "list"
                    ],
                    "expansions": [
                        {
                            "pattern": "item_{{_value}}",
                            "for": "items"
                        }
                    ]
                }
            ],
            "properties": []
        },
        {
            "type": "DataUtility",
            "label": "Value Convert",
            "category": "List",
            "description": "Convert a list of values to a target type.",
            "inputs": [
                {
                    "id": "input",
                    "label": "Input",
                    "type": "Value List"
                }
            ],
            "outputs": [
                {
                    "id": "output",
                    "label": "Output",
                    "type": "Value List"
                }
            ],
            "properties": [
                {
                    "name": "target_type",
                    "label": "Target Type",
                    "type": "select",
                    "options": [
                        "String",
                        "Number",
                        "Boolean"
                    ],
                    "default": "String"
                }
            ]
        },
        {
            "type": "OutputRoot",
            "label": "Activation Output",
            "category": "Output",
            "inputs": [
                {
                    "id": "entries",
                    "label": "Entries",
                    "type": "Entry List"
                }
            ],
            "outputs": [],
            "properties": []
        }
    ]
}